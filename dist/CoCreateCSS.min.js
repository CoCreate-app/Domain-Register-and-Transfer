!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CoCreate=t():(e.CoCreate=e.CoCreate||{},e.CoCreate.css=t())}(this,(function(){return(()=>{"use strict";var e={366:(e,t,r)=>{function a(e){this.callbackMap=new Map,this.callbackMap.set("ALL",{attributes:[],addedNodes:[],removedNodes:[],characterData:[],childList:[]});let[t,r]=this.runCallbackGen("attributes");this.runCallbackAtt=t,this.runCallbackAttAll=r,[t,r]=this.runCallbackGen("characterData"),this.runCallbackChar=t,this.runCallbackCharAll=r,this.runCallbackAdd=this.runCallbackExGen("addedNodes","addedNodes"),this.runCallbackRemove=this.runCallbackExGen("removedNodes","removedNodes");new MutationObserver((e=>this._callback.call(this,e))).observe(e,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0})}r.r(t),r.d(t,{default:()=>l}),window.counter=0;const n=["addedNodes","removedNodes","attributes","characterData","childList"];a.prototype.init=function({observe:e=["addedNodes","attributes"],attributeFilter:t,callback:r}){if(!e||!e.every((e=>n.includes(e))))throw"please enter a valid observe";if(this.observe=e,this.callback=r,t&&t.length)for(let e of t)this._register(e.toLowerCase());else this._register("ALL")},a.prototype._register=function(e){for(let t of this.observe)"childList"!==t?this.callbackMap.has(e)?this.callbackMap.get(e)[t]?this.callbackMap.get(e)[t].push(this.callback):this.callbackMap.get(e)[t]=[this.callback]:this.callbackMap.set(e,{[t]:[this.callback]}):this.callbackMap.get("ALL").childList&&this.callbackMap.get("ALL").childList.push(this.callback)},a.prototype.uninit=function(e){for(let[t,r]of this.callbackMap.entries())r.attributes&&(r.attributes=r.attributes.filter((t=>t!==e))),r.characterData&&(r.characterData=r.characterData.filter((t=>t!==e))),r.addedNodes&&(r.addedNodes=r.addedNodes.filter((t=>t!==e))),r.removedNodes&&(r.removedNodes=r.removedNodes.filter((t=>t!==e))),r.childList&&(r.childList=r.childList.filter((t=>t!==e))),this.callbackMap.set(t,{attributes:r.attributes,characterData:r.characterData,addedNodes:r.addedNodes,removedNodes:r.removedNodes,childList:r.childList})},a.prototype._callback=function(e){for(let t of e)switch(window.counter++,t.type){case"attributes":this._attributeCallback(t);break;case"characterData":this._characterDataCallback(t);break;case"childList":this._childListCallback(t)}},a.prototype.runCallbackGen=function(e){return[function(t,r){let a=this.callbackMap.get(r);if(a&&a[e])for(let r of a[e])r(t)},function(t){for(let r of this.callbackMap.get("ALL")[e])r(t)}]},a.prototype._attributeCallback=function(e){if(!e.target.hasAttributes(e.attributeName))return;e.target.getAttribute(e.attributeName)!==e.oldValue&&(this.runCallbackAtt(e,e.attributeName),this.runCallbackAttAll(e))},a.prototype._characterDataCallback=function(e){if(e.target.data===e.oldValue)return;this.runCallbackCharAll(e);let t=e.target.parentElement;for(let r of t.attributes)this.runCallbackChar(e,r.name)},a.prototype.runCallbackExGen=function(e,t){return function r(a){for(let n of a[t]){if(n.tagName)for(let t of n.attributes){let r=this.callbackMap.get(t.name);if(r&&r[e])for(let t of r[e])t({type:a.type,target:n,[e]:!0})}n.children&&r.call(this,{[t]:n.children})}for(let r of this.callbackMap.get("ALL")[e])for(let n of a[t])n.tagName&&r({type:a.type,target:n,[e]:!0})}},a.prototype._childList=function(e){this.callbackMap.get("ALL").childList.forEach((t=>{t(e)}))},a.prototype._childListCallback=function(e){this._childList(e),this.runCallbackAdd(e),this.runCallbackRemove(e)},a.prototype.setInitialized=function(e,t){e["co_initialized_"+(t=t||"")]=!0},a.prototype.getInitialized=function(e,t){return!!e["co_initialized_"+(t=t||"")]};const l=new a(document.body)},727:(e,t,r)=>{function a(e,t,r){if(t){if(e.classList.contains(t))return e;let r=e.parentNode;for(;null!=r&&r.classList;){if(r.classList.contains(t))return r;r=r.parentNode}}else if(r){if(r.every((t=>e.attributes.hasOwnProperty(t))))return e;let t=e.parentNode;for(;null!=t&&t.attributes;){if(r.every((e=>t.attributes.hasOwnProperty(e))))return t;t=t.parentNode}}return!1}function n(e){try{let t=JSON.parse(e);return"object"==typeof t&&null!=t}catch(e){return!1}}function l(e){return e.getAttributeNames().reduce(((t,r)=>(t[r]=e.getAttribute(r),t)),{})}function i(e){return!!e&&!/{{\s*([\w\W]+)\s*}}/g.test(e)}function o(e,t){try{if(void 0===e)return!1;let r=t.split("."),a=r.shift();return r.length>0?this.__getValueFromJonDeep(e[a],r.join(".")):e[a]}catch(e){return!1}}function s(e){let t=[{document,window}];for(let e of document.querySelectorAll("iframe")){let r=e.contentDocument||e.contentWindow.document,a=e.contentWindow;t.push({document:r,window:a,frameElement:e})}let r=new Set;for(let a of t){let t=e(a);t&&"function"==typeof t[Symbol.iterator]?t.forEach((e=>r.add(e))):t&&r.add(t)}return Array.from(r)}function c(e){let t=[];do{if(!e||!e.tagName)return!1;let r=e.tagName.toLowerCase();if(e.id&&"BODY"!==e.tagName&&(r+="#"+e.id),e.classList.length&&"BODY"!==e.tagName&&e.classList.forEach((e=>{-1===e.indexOf(":")&&(r+="."+e)})),"BODY"!==e.tagName&&e.parentNode){let t=Array.prototype.indexOf.call(e.parentNode.children,e);r+=`:nth-child(${t+1})`}t.unshift(r),e=e.parentNode}while("HTML"!==e.tagName);return t.join(" > ")}function d(){let e=window;for(;e!==window.parent;)e=window.parent;return e}function u(e,t){let r;return s((e=>{e.document.contains(t)&&(r=e.frameElement)})),r}function f(e){let t=d;return e.forEach((e=>{t&&(t=t.querySelector(e))})),t}function*h(e,t){for(let r of e)r.selector&&t.matches(r.selector)&&(yield r)}function p(e,t,r,a){for(let n of h(a||window.elementConfig,e)){if(!0===n[t])return r(e,n);if(!1===n[t])return!1;if(void 0===n[t])continue;if(y(n[t]))return r(e,n,!0)}return!1}function b(e){let t=(new DOMParser).parseFromString(e,"text/html");return t.head.children[0]?t.head.children[0]:t.body.children[0]}function g(e,t){return e.split(t).map((e=>e.trim()))}function m(e,t){return e.map((e=>e.trim())).join(t)}function y(e){try{document.createDocumentFragment().querySelector(e)}catch(e){return!1}return!0}function v(e,t){let r=[],a=(window,u(0,e)),n=c(a);return n&&r.unshift(n),t?{path:r,document:a||document}:r}function k(e="all"){if(!["all","error","warn","log","off"].includes(e))throw new Error("level must be one of all, error, warn, log or off");return{error:function(t){["all","error"].includes(e)},warn:function(t){["all","error","warn"].includes(e)},log:function(){["all","error","warn","log"].includes(e)}}}async function w(e){if("loading"===e.contentDocument.readyState)try{await new Promise(((t,r)=>{e.contentWindow.addEventListener("load",(e=>t()))}))}catch(e){}}function C(e,t){let r=t.split(";"),a=e;for(let e=0;e<r.length-1;e++)if(a=a.querySelector(r[e]),!a)return[];return[this,[r.length-1]]}function S(e){let[t,r]=C(this,e);return t?t.contentWindow.document.querySelector(r):null}function L(e){let[t,r]=C(this,e);return t?t.contentWindow.document.querySelectorAll(r):[]}r.r(t),r.d(t,{getParentFromElement:()=>a,isJsonString:()=>n,getAttributes:()=>l,checkAttrValue:()=>i,getValueFromJonDeep:()=>o,allFrame:()=>s,cssPath:()=>c,getTopMostWindow:()=>d,findIframeFromElement:()=>u,getIframeFromPath:()=>f,configMatch:()=>h,configExecuter:()=>p,parseTextToHtml:()=>b,splitBydelimiter:()=>g,joinBydelimiter:()=>m,isValidSelector:()=>y,getElementPath:()=>v,logger:()=>k,waitForLoad:()=>w,getComplexSelector:()=>C,frameQuerySelector:()=>S,frameQuerySelectorAll:()=>L,default:()=>A});const A={getElementPath:v,isValidSelector:y,joinBydelimiter:m,splitBydelimiter:g,parseTextToHtml:b,configExecuter:p,configMatch:h,getIframeFromPath:f,findIframeFromElement:u,getTopMostWindow:d,cssPath:c,allFrame:s,checkAttrValue:i,getAttributes:l,isJsonString:n,getParentFromElement:a,logger:k}},789:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"ff13b1b5148ff2e0344b4f7eb9478241.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},475:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"3ee691a587a4b5bf14ab27f852173067.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},828:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"0345ce40a0c844839ffeb8f5041065e4.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},979:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"698021158c87510eaacc210618fed113.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},156:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"86cf457ac02a646807282c7bcb0df902.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},19:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"93e62602a1990594665a5a7781659977.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},122:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"d34eb3ee893b850793d1e164d8aa7da7.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},215:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"b32afd976701321c3f946580d9e8871a.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},374:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"8d9d57f7df5b7b403dfe2dba232cb73b.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},264:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"42b2f2b4f68026e9a5300d8609b5b9d9.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},545:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"567b463f92b2daee0d621e330ede9596.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},847:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"8f4eec237b5fb9131f6ebdf797bc45f3.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},531:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"fe8c2a69af6d2c17deb41a532728dc6e.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},341:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a=r(483),n=r.n(a);const l=r.p+"e22c84bee362938822a5bef86202cb13.css";var i={injectType:"linkTag",insert:"head"};n()(l,i);const o={}},483:(e,t,r)=>{var a,n=(a={},function(e){if(void 0===a[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}a[e]=t}return a[e]});e.exports=function(e,t){if((t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},void 0===t.attributes.nonce){var a=r.nc;a&&(t.attributes.nonce=a)}var l=document.createElement("link");if(l.rel="stylesheet",l.href=e,Object.keys(t.attributes).forEach((function(e){l.setAttribute(e,t.attributes[e])})),"function"==typeof t.insert)t.insert(l);else{var i=n(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(l)}return function(e){"string"==typeof e?l.href=e:l.parentNode.removeChild(l)}}}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,r),l.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})();var a={};return(()=>{var e=a;e.default=void 0;var t,n=(t=r(366))&&t.__esModule?t:{default:t},l=r(727);r(341),r(789),r(475),r(828),r(979),r(156),r(19),r(122),r(215),r(374),r(264),r(545),r(847),r(531);let i=(0,l.logger)("off");const o=["xs","sm","md","lg","xl"],s=["light","dark"],c=Object.values({xs:[0,575],sm:[576,768],md:[769,992],lg:[993,1200],xl:[1201,0]});let d,u=document.createElement("style"),f=new Map,h=[],p=[],b=[],g=[],m={dark:[],light:[]},y={},v={};const k=e=>!e.hasAttribute("data-parse")||"true"===e.getAttribute("data-parse"),w=e=>"."+e.getAttribute("className")+" { "+e.getAttribute("class").replace(/ /g,"; ").replace(/:/g,": ")+"; }",C=e=>{for(let t of e)if(t.hasAttribute("class")){let e=w(t);p.push(e)}},S=e=>{let t,r,a;if([t,r,a]=e.split(":"),"dark"==a||"light"==a){let e=`[theme="${a}"] .${t}\\:${r}\\:${a}{${t}:${r};}`,n=`html:not([theme="${s[1-s.indexOf(a)]}"]) *.${t}\\:${r}\\:${a}{${t}:${r};}`;return p.push(e),m[a].push(n),e}};const L=()=>{for(let e=0,t=p.length;e<t;e++){let t=p[e],r=0,a=h.length;for(;r<a;){let e=r+a>>>1;t<h[e]?a=e:r=e+1}r>d.cssRules.length&&(r=d.cssRules.length),d.insertRule(t,r),h.splice(r,0,t)}p=[]},A=e=>{let t=/.+:.+/,r=/.+:.+:.+/,a=!1;for(let n of e)if(r.exec(n))S(n);else if(t.exec(n)&&!f.has(n)){if(/.+@.+/.exec(n)){let e=n.split("@"),t=T(n);for(let r=1;r<e.length;r++){let l=o.indexOf(e[r]),i=[];if(-1!=l)i=c[l];else{i=e[r].split("-").map((e=>Number.parseInt(e)))}let s="@media screen";0!=i[0]&&(s+=" and (min-width:"+i[0]+"px)"),0!=i[1]&&(s+=" and (max-width:"+i[1]+"px)");let d=s+" {  "+t+"}";p.push(d),f.set(n,!0),a=!0}}else{let e=T(n);p.push(e),f.set(n,!0),a=!0}}return a},N=()=>{let e;if(m.dark.length){e="@media (prefers-color-scheme: dark) {";for(let t of m.dark)e+=t+"\n";e+="}",p.push(e),m.dark=[]}if(m.light.length){e="@media (prefers-color-scheme: light) {";for(let t of m.light)e+=t+"\n";e+="}",p.push(e),m.light=[]}},T=e=>{let t=e.split(":"),r="",a=t[1].replace(/\./g,"\\.").replace(/%/g,"\\%").replace(/@/g,"\\@").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/#/g,"\\#").replace(/,/g,"\\,").replace(/!/g,"\\!").replace(/\//g,"\\/").replace(/\"/g,'\\"').replace(/\'/g,"\\'");if(t[1]=t[1].split("@")[0],t[1]=t[1].replace(/_/g," "),t.length>2){let e=[];for(let r=0;r<t.length-2;r++)a+="\\:"+t[2+r],e.push(":"+t[2+r]);let n="."+t[0]+"\\:"+a;r+=n+e[0];for(let t=1;t<e.length;t++)r+=", "+n+e[t];r+=`{${t[0]}:${t[1]}}`}else r=`.${t[0]}\\:${a} { ${t[0]}: ${t[1]}; }`;return r};var j={on:(e,t)=>{v[e]&&t(h),y[e]=t},get parsedCSS(){return h},set parsedCSS(e){h=e,h.sort()}};e.default=j,async function(){if(u.setAttribute("component","CoCreateCss"),document.head.appendChild(u),d=u.sheet,n.default.init({name:"ccCss",observe:["childList"],callback:e=>{if(!e.addedNodes.length)return;let t=e.target;if(t.hasAttribute("classname")){let e=[];e=h.filter((e=>!e.includes(`.${t.getAttribute("classname")}`))),h=e}t.querySelectorAll("*").forEach((e=>{C([e])})),C([t]);let r=!1;k(t)&&(r=A(t.classList)),t.querySelectorAll("*").forEach((e=>{k(e)&&(r=A(e.classList)||r)})),L(),r&&(i.log("parsedCSS",h),i.log("cssString",h.join("\r\n")),window.dispatchEvent(new CustomEvent("newCoCreateCssStyles",{detail:{isOnload:!1,styleList:b.join("\r\n")}})))}}),n.default.init({name:"ccCss",observe:["attributes"],attributeFilter:["class"],callback:e=>{let t=e.target;if(t.hasAttribute("classname")){let e=[];e=h.filter((e=>!e.includes(`.${t.getAttribute("classname")}`))),h=e}C([t]);let r=!1;k(t)&&(r=A(t.classList)),L(),r&&(i.log("parsedCSS",h),window.dispatchEvent(new CustomEvent("newCoCreateCssStyles",{detail:{isOnload:!1,styleList:b.join("\r\n")}})))}}),document.querySelector('link[data-parse="false"]')||document.querySelector('link[onload="false"]'))return;let e=!1;e=(()=>{let e=!1,t=document.querySelectorAll("[class]");for(let r of t)k(r)&&(e=A(r.classList)||e);return N(),t=document.querySelectorAll("[className]"),C(t),h=p,p=[],e})(),e=(()=>{let e=[],t=!0,r=-1,a=!1;try{for(let e of document.styleSheets)if(r++,e.ownerNode.hasAttribute("data-save")){a=!0;break}if(a){let t=document.styleSheets[r].cssRules;for(let r of t)e.push(r.cssText.replace(/\\n/g,""))}else t=!1}catch(e){t=!1,i.error(e)}finally{i.log("stylesheetCSS",e),i.log("parsedCss",h);const t=(e,t,r)=>r.indexOf(e)===t,r=(e,t)=>e.filter((e=>-1===t.indexOf(e)));b=h.concat(e).filter(t),g=[...r(h,e)],i.log("newCss",g),i.log("concatCSS",b);let a=[];for(let e=0;e<b.length;e++)-1===a.indexOf(b[e])&&a.push(b[e]);b=a;for(let t=0;t<b.length;t++)Object.keys(e).length?-1===e.indexOf(b[t])&&d.insertRule(b[t]):d.insertRule(b[t]);b.sort()}return t})(),document.querySelector('link[data-save="true"]')&&(e=>{i.log("hasChange",e),e?(i.log("cssString",b.join("\r\n")),window.dispatchEvent(new CustomEvent("newCoCreateCssStyles",{detail:{isOnload:!0,styleList:b.join("\r\n")}}))):i.log("cssString after Concat",b.join("\r\n"))})(e),y.parse&&y.parse(),v.parse=!0}()})(),a=a.default})()}));